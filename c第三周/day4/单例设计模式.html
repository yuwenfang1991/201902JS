<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
</head>

<body>
    <button onclick="flightTicket.queryTicket()">机票</button>

    <button onclick="bussTicket.queryTicket()">汽车票</button>

    <button onclick="trainTicket.queryTicket()">火车票</button>

    <button onclick="boatTicket.queryTicket()">轮船票</button>
    <script>

        // 单例设计模式(singleton pattern)
        
        /* 
        1.表现形式
        var onj = {
                xxx :xxx,
                ...
            }; 
        在单例设计模型中，obj不仅仅是对象名，它被称为“命名空间[nameSpace]”
        把描述事务的属性存放到命名空间中，多个命名空间是独立分开的，互不冲突
        2. 作用
        把描述同一件事务的属性和特征进行分组“分组、归类”（存储在同一个堆内存空间中）因此避免了全局变量之间的冲突和污染
        var pattern1 = {name: xxx};
        var pattern2 = {name: xxx};
        // 里面的 name不是同一个 name

        3.单例设计模式命名的由来
        每一个命名空间都是 JS中 Object这个内置基类的实例，而实例之间是相互独立互不干扰所以我们称它为“单例：单独的实例”
        */


        // 分为三个模块 （机票、汽车票、火车票）

        // 同一命名空间下 属性之间调用可以直接使用this
        // 飞机票
        const flightTicket = {
            checkCity() {
                console.log("查询城市");
            },
            queryTicket() {
                console.log("查询飞机票");
                console.log('没有机票')

                let hasTicket = false;

                // 如果没有飞机票 做汽车
                // 调用其他命名空间下的属性方法
                if (!hasTicket) {
                    busTicket.queryTicket();
                }
            },
            init() {
                // this => flightTicket
                this.checkCity();
                this.queryTicket();
            }
        };

        // 汽车票
        const busTicket = {
            checkCity() {
                console.log("查询城市");
            },
            queryTicket() {
                console.log("查询汽车票");
            },
            init() {
                this.checkCity();
                this.queryTicket();
            }
        };
        // busTicket.init()

        // 火车票
        const trainTicket = {
            checkCity() {
                console.log("查询城市");
            },
            queryTicket() {
                console.log("查询火车票");
            },
            init() {
                // 入口
                this.checkCity();
                this.queryTicket();
            }
        };
        // trainTicket.init()

        // 轮船票
        const boatTicket = {
            checkCity() {
                console.log("查询城市");
            },
            queryTicket() {
                console.log("查询轮船票");
            }
        };

        flightTicket.init();
    </script>
</body>

</html>