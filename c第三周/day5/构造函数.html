<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        // 1.单例模式  2.工厂模式  3.构造函数模式 4. 原型模式
        // function person(name,age) {
        //     var obj = {};
        //     obj.name = name;
        //     obj.age = age;
        //     return obj;
        // }
        // var li = person("李文利",40);

        // 构造函数模式
        function Person(name,age) {
            // 如果是构造函数，当函数执行之前，
            // 1.先默认创建一个空对象
            // var obj = {};
            // 2.并且让当前作用域下的this指向实例；
            this.name = name;
            this.age = age;
            // 3.函数执行完，把当前作用域下的this返回出去
            return this;
        }
        var per1 = new Person("李文利",40); // Person 是类 ， per1 是类的一个实例
        var per2 = Person();
        // per1就是person的一个实例
        // new : 操作符；放到函数执行的前面；那么后面的函数就变成一个构造函数
        console.log(per1); //{name: "李文利", age: 40}
        console.log(per2); //undefined

        // 普通函数和构造函数的区别：
        // 1.构造函数执行前面必须要加new操作符；
        // 2.如果构造函数不需要传参数，那么可以省略小括号；
        // 3.构造函数中的this指向当前的实例；
        // 4.形成私有作用域 --> 形参赋值 --> 变量提升 --> (先默认创建对象，并且让this指向这个对象)代码从上到下运行 --> (把当前作用域下的this返回出去)作用域是否销毁；
        // 5.构造函数为了区分普通函数，一般情况下，构造函数名首字母需要大写；
        // 6.如果return一个基本数据类型值，不能覆盖原有的实例；如果return一个引用数据类型，会将默认返回的那个实例给覆盖掉
        // 7.instanceof  检测当前实例是否属于这个构造函数的；如果是返回true,不是则返回false；
        // 构造函数就是一个类

        function Person1(name,age) {
            var a = 100;
            this.name = name;
            this.age = age;
            return "12345";
        }
        var per3 = new Person1("李文利",40);
        console.log(per3);

        // 基于构造函数创建自定义类（constructor）
        // 1.在普通函数执行的基础上“new xxx()”,这样就不是普通函数执行了，而是构造函数执行，当前的函数名称之为“类名”，接受的返回结果是当前类的一个实例
        // 2.自己创建的类名，最好第一个首字母大写
        // 3.这种构造函数设计模式执行，主要用于组件、类库、插件、框架等的封装，平时编写业务逻辑一般不这样处理

        // JS创建值有两种方式
        // 1.字面量表达式
        // 2.构造函数模式
        var obj = {}; //字面量方式
        var obj = new Object(); //构造函数模式
        // 不管哪一种方式创造出来的都是Object类的实例，而实例之间是独立分开的，所以var xxx = {} 这种模式就是JS中的单例模式

        // 基本数据类型基于两种不同的模式创建出来的值是不一样的
        // 1.基于字面量的方式创建出来的值是基本数据类型
        // 2.基于构造函数创建出来的值是引用类型
        var num1 = 12;
        var num2 = new Number(12);
        console.log(typeof num1); // "number"
        console.log(typeof num2); // "object"

    </script>
</body>
</html>