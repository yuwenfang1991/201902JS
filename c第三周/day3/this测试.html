<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        // var length = 5;
        // var fn = function() {
        //   console.log(this);  // window
        //   console.log(this.length); // window.length  5  arguments.length 1
        // };
        // var main = {
        //   fn: function(fn) {
        //     console.log(this); // main
        //     fn(); // window
        //     arguments[0](); // this => arguments.0()
        //   },
        //   length: 10
        // };
        // main.fn(fn);

        /////////////////////////////////////////////////////////////////////////////////////////////

        //  function fn1() {
        //      console.log(this === ary);
        //  }
        //  function fn2() {
        //      console.log(this);
        //  }
        //  function fn3() {
        //  }
        //  function fn4() {
        //  }
        //  var ary = [fn1, fn2, fn3, fn4];
        //  ary[1](); // this => ary ary.1()
        //  var arry = ary[1];
        //  var arry = function fn2 (){
        //      console.log(this);
        //  };
        //  console.log(arry);
        //  arry(); // window

        /////////////////////////////////////////////////////////////////////////////////////////////
        var num = 5; // 6 
        var obj = {
          num: 4, // 5
          fn: (function(num) {
            num++; //NaN
            this.num++; // 6
            var num = 2; // 2
            return function() {
              num++; //3  4
              this.num++;
              console.log(num); // 3
            };
          })()
        };
        var fn = obj.fn;
        fn(); //window 3
        obj.fn(); // obj
        console.log(this.num, obj.num);
    </script>
</body>

</html>