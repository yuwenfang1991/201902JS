<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        .box {
            width: 200px;
            height: 200px;
            border: 2px solid palevioletred;
            background: sandybrown;
            color: aqua;
            margin: 30px auto;
            /* IE6-8 不支持opacity */
            opacity: .5;
            /* IE6-8; */
            filter: alpha(opacity=50);
        }

        .box::after {
            content: "珠峰";
            color: coral;
        }
    </style>
</head>

<body>
    <div id="box" class="box">我是box</div>
    <script>
        var box = document.getElementById('box');
        // function getCss(ele, attr) {
        //     var val = ''
        //     if (window.getComputedStyle) {
        //         val = window.getComputedStyle(ele, null)[attr];
        //     } else {
        //         if (attr === "opacity") {
        //             // "alpha(opacity=10)"
        //             val = ele.currentStyle['filter'];
        //             var reg = /alpha\(opacity=(.+)\)/;
        //             val = reg.test(val) ? reg.exec(val)[1] / 100 : 1;
        //         } else {
        //             val = ele.currentStyle[attr];
        //         }
        //     }
        //     return val;
        // }
        // console.log(getCss(box, 'opacity'));

        // console.log(window.getComputedStyle(box, null).width);
        // 标准浏览器 window.getComputedStyle()
        // IE6-8 currentStyle

        // 兼容处理方案1
        // try {
        //     console.log('com',window.getComputedStyle(box, null).width);
        // } catch(e) {
        //     console.log('cur',box.currentStyle.width);
        // }

        // if(window.getComputedStyle) {
        //     console.log(window.getComputedStyle(box, null)[color]); 
        // } else {
        //     console.log(box.currentStyle[background]);

        // }

        // function getCss(ele, attr) {
        //     var val = '';
        //     if (window.getComputedStyle) {
        //         val = window.getComputedStyle(ele, null)[attr];
        //     } else {
        //         if (attr === 'opacity') {
        //             var reg = /^alpha\(opacity=(.+)\)$/;
        //             val = ele.currentStyle['filter'];
        //             val = reg.test(val) ? reg.exec(val)[1] / 100 : 1;
        //         } else {
        //             val = ele.currentStyle[attr];
        //         }
        //     }
        //     return val;
        // }
        // console.log(getCss(box,'opacity'));



        // var getCss = function (ele, attr) {
        //     var val = '';
        //     if(window.getComputedStyle) { // 标准浏览器
        //       val = window.getComputedStyle(ele,null)[attr];
        //     } else { // IE6-8
        //         if (attr === 'opacity') {
        //             // alpha(opacity=50)
        //             var reg = /^alpha\(opacity=(.+)\)$/;
        //             val = ele.currentStyle['filter'];
        //             val = reg.test(val) ? reg.exec(val)[1] / 100 : 1;

        //         } else {
        //             val = ele.currentStyle[attr];
        //         }
        //     }
        //     return val;
        // }
        // console.log(getCss(box,'opacity'));

    </script>
</body>

</html>