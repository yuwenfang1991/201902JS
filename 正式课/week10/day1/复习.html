<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="./node_modules/vue/dist/vue.js"></script>
</head>

<body>
    <div id="app">
        <h1>{{name}}</h1>
        <my-name></my-name>
        <com1></com1>
    </div>
    <script>
        // 全局组件 局部组件 在哪个组件使用,就必须在哪个组件注册
        // 父子组件 A组件使用了 B组件; A组件就是父组件
        // 组件之间的数据传递
        // 父传子: 自定义行内属性, 子组件通过 props接收
        // 子传父:自定义事件 子组件 $emit('自定义事件名',)
        // 子组件中 有个$parent属性  对应的是 父组件； this.$parent.xxx
        //             $children 数组；里边是所有的子组件；
        //  ref获取子组件，获取到子组件之后， 子组件的所有属性或者方法 都可以获取到

        // v-model = 'name' ---> :value='name' @input='(val) => {name = val }'
        // <com1 v-model='name'></com1>
        // com1 中的input: :props:[[value'] <input :value='value' @input='$emit('input')'>
        // 用在组件身上的: 属性或者事件 都是自定义的属性或者事件
        let com1 = {
            template: '<h2>局部组件{{myName}}</h2>',
            data() {
                return {
                    age: 123
                }
            },

            props: ['myName'],

            // props:{
            //     default() {
            //         // 默认若是 对象或者 数组 则必须是一个函数 类似data
            //         return {

            //         }
            //     }
            // }
        }
        Vue.component('my-name', {
            template: '<h1>hello<com1 :myName="name" @myFn="fn"></com1></h1>',
            data() {
                return {
                    name: 123
                }
            },

            components: {
                com1
            },

            methods: {
                fn(val) {
                    console.log(val);

                }
            },

            created() {
                this.$emit('myFn', this.age)
            },
        });

        let vm = new Vue({
            el: '#app',
            data: {
                name: "hello world"
            },

            components: {
                com1
            }

        })
    </script>
</body>

</html>